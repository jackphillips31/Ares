<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.9.8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ares: Event System</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <link rel="icon" href="ares_icon.svg" type="image/x-icon" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
    <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.init();
      DoxygenAwesomeFragmentCopyButton.init();
      DoxygenAwesomeParagraphLink.init();
      DoxygenAwesomeInteractiveToc.init();
      DoxygenAwesomeTabs.init();
    </script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
      <table cellspacing="0" cellpadding="0">
        <tbody>
          <tr id="projectrow">
            <td id="projectlogo"><img alt="Logo" src="Ares_Logo_LM.png"$logosize/></td>
            <td id="projectalign">
              <div id="projectname">Ares
                <span id="projectnumber">&#160;0.0.2.0</span>
              </div>
              <div id="projectbrief">Game Engine</div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- end header part --><!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('event_system.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Event System</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md7">Overview</a></li>
<li class="level1"><a href="#autotoc_md8">Key Features</a></li>
<li class="level1"><a href="#autotoc_md9">How to Use the Event System</a><ul><li class="level2"><a href="#autotoc_md10">Initialization and Shutdown</a></li>
<li class="level2"><a href="#autotoc_md11">Processing Events</a></li>
<li class="level2"><a href="#autotoc_md12">Dispatching Events</a></li>
<li class="level2"><a href="#autotoc_md13">Adding Listeners</a></li>
<li class="level2"><a href="#autotoc_md14">Removing Listeners</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md15">Relevant Documentation</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md7"></a>
Overview</h1>
<p>The <b>Event System</b> in <a class="el" href="namespaceAres.html" title="The main namespace for the Ares engine.">Ares</a> provides a powerful and flexible way to manage and process events throughout your application. It allows you to queue events, add listeners for specific event types, and dispatch events efficiently, ensuring clear separation of concerns and scalability.</p>
<p>The <a class="el" href="classAres_1_1EventQueue.html">EventQueue</a> class lies at the core of the event system. It provides static methods for:</p><ul>
<li>Dispatching events to the queue.</li>
<li>Adding and removing listeners.</li>
<li>Processing events during the main application loop.</li>
</ul>
<p>The <a class="el" href="classAres_1_1EventQueue.html">EventQueue</a> works in tandem with the <a class="el" href="namespaceAres.html" title="The main namespace for the Ares engine.">Ares</a> <a class="el" href="classAres_1_1Application.html">Application</a>. The <a class="el" href="classAres_1_1EventQueue.html">EventQueue</a> is initialized and shutdown within the <a class="el" href="classAres_1_1Application.html">Application</a> class's <a class="el" href="classAres_1_1Application.html#a860a36da09de99a7e812a9bf0c5d57da">constructor</a> and <a class="el" href="classAres_1_1Application.html#a9e85ee60d4c16d2b51601088a0797fa0">destructor</a>. Events regarding the window are dispatched to the <a class="el" href="classAres_1_1EventQueue.html">EventQueue</a> from the platform specific window implementation. In the <a class="el" href="classAres_1_1Application.html">Application</a> class's <code>Run</code> method, EventQueue::ProcessEvents is called. When ProcessEvents is called all the events in the queue are sent to the <a class="el" href="classAres_1_1Application.html">Application</a> class's <code>OnEvent</code> method, which in turn hands off the events to all the <a class="el" href="classAres_1_1Layer.html">Layers</a> in the <a class="el" href="classAres_1_1Application.html">Application</a>. If the event is not handled within the various OnEvent methods, then the <a class="el" href="classAres_1_1EventQueue.html">EventQueue</a> will send the event to any <a class="el" href="classAres_1_1EventQueue.html#a052eeb97304e0beeeabd840e25b64e00">listener callbacks</a> for that event type. </p>
<h1><a class="anchor" id="autotoc_md8"></a>
Key Features</h1>
<ul>
<li><b>Thread-Safe Queues</b>: Uses mutexes to ensure event handling is thread-safe.</li>
<li><b>Customizable Callbacks</b>: Listeners register their own callback function for event handling.</li>
<li><b>Efficient Processing</b>: Events are queued for asynchronous processing, maintaining application performance. </li>
</ul>
<h1><a class="anchor" id="autotoc_md9"></a>
How to Use the Event System</h1>
<h2><a class="anchor" id="autotoc_md10"></a>
Initialization and Shutdown</h2>
<p>Initialization and shutdown is handled within the Application class. If you are creating your own application logic, you will need to call these methods yourself. <br  />
 <b>Example</b>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="EventQueue_8h.html">Engine/Events/EventQueue.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="EntryPoint_8h.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>() {</div>
<div class="line">    <span class="comment">// Initialize the event queue</span></div>
<div class="line">    <a class="code hl_function" href="classAres_1_1EventQueue.html#a0348d7940fe0062d2f89a494023e1c57">Ares::EventQueue::Init</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Your code here</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Shutdown the event queue</span></div>
<div class="line">    <a class="code hl_function" href="classAres_1_1EventQueue.html#ae796b3d851b14eeb21ff2da1a7780e1f">Ares::EventQueue::Shutdown</a>();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aEntryPoint_8h_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="EntryPoint_8h.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdoc">Standard C++ entry point for the application.</div><div class="ttdef"><b>Definition</b> EntryPoint.h:60</div></div>
<div class="ttc" id="aEventQueue_8h_html"><div class="ttname"><a href="EventQueue_8h.html">EventQueue.h</a></div><div class="ttdoc">Defines the EventQueue class for managing event processing.</div></div>
<div class="ttc" id="aclassAres_1_1EventQueue_html_a0348d7940fe0062d2f89a494023e1c57"><div class="ttname"><a href="classAres_1_1EventQueue.html#a0348d7940fe0062d2f89a494023e1c57">Ares::EventQueue::Init</a></div><div class="ttdeci">static void Init()</div><div class="ttdoc">Initializes the EventQueue. Called during application startup.</div></div>
<div class="ttc" id="aclassAres_1_1EventQueue_html_ae796b3d851b14eeb21ff2da1a7780e1f"><div class="ttname"><a href="classAres_1_1EventQueue.html#ae796b3d851b14eeb21ff2da1a7780e1f">Ares::EventQueue::Shutdown</a></div><div class="ttdeci">static void Shutdown()</div><div class="ttdoc">Shuts down the EventQueue. Called during application shutdown.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md11"></a>
Processing Events</h2>
<p>Processing events is handled within the <a class="el" href="classAres_1_1Application.html">Application</a> class. If you are creating your own application logic, you will need to set the <a class="el" href="classAres_1_1EventQueue.html">EventQueue's</a> callback function and call the OnUpdate method yourself. </p><dl class="section note"><dt>Note</dt><dd>If you do not set the <a class="el" href="classAres_1_1EventQueue.html">EventQueue's</a> event callback, then events will only be sent out to registered listeners!</dd></dl>
<p><b>Example</b>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="EventQueue_8h.html">Engine/Events/EventQueue.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="EntryPoint_8h.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>() {</div>
<div class="line">    <span class="comment">// Initialize the event queue</span></div>
<div class="line">    <a class="code hl_function" href="classAres_1_1EventQueue.html#a0348d7940fe0062d2f89a494023e1c57">Ares::EventQueue::Init</a>();</div>
<div class="line">    <a class="code hl_function" href="classAres_1_1EventQueue.html#a28ec606e484362d984bcbe464c0b1522">Ares::EventQueue::SetEventCallback</a>(std::bind(&amp;OnEvent, <span class="keyword">this</span>, std::placeholders::_1));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Process events in the queue</span></div>
<div class="line">        <a class="code hl_function" href="classAres_1_1EventQueue.html#a77b0e1ddf7d096085610042785425eef">Ares::EventQueue::OnUpdate</a>();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Shutdown the event queue</span></div>
<div class="line">    <a class="code hl_function" href="classAres_1_1EventQueue.html#ae796b3d851b14eeb21ff2da1a7780e1f">Ares::EventQueue::Shutdown</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> OnEvent(<a class="code hl_class" href="classAres_1_1Event.html">Ares::Event</a>&amp; event)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Process events</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassAres_1_1EventQueue_html_a28ec606e484362d984bcbe464c0b1522"><div class="ttname"><a href="classAres_1_1EventQueue.html#a28ec606e484362d984bcbe464c0b1522">Ares::EventQueue::SetEventCallback</a></div><div class="ttdeci">static void SetEventCallback(ApplicationEventCallbackFn &amp;&amp;callback)</div><div class="ttdoc">Sets the callback in which the EventQueue sends Events to.</div></div>
<div class="ttc" id="aclassAres_1_1EventQueue_html_a77b0e1ddf7d096085610042785425eef"><div class="ttname"><a href="classAres_1_1EventQueue.html#a77b0e1ddf7d096085610042785425eef">Ares::EventQueue::OnUpdate</a></div><div class="ttdeci">static void OnUpdate()</div><div class="ttdoc">Processes all events currently in the queue.</div></div>
<div class="ttc" id="aclassAres_1_1Event_html"><div class="ttname"><a href="classAres_1_1Event.html">Ares::Event</a></div><div class="ttdoc">Base class for all events in the engine.</div><div class="ttdef"><b>Definition</b> Event.h:87</div></div>
</div><!-- fragment --><p> Alternatively, there is a predefined <a class="el" href="Core_8h.html#a71419b9aa8dfb57c5e92c579e305db7c">macro</a> you can use to bind the function rather than <code>std::bind</code>. </p><div class="fragment"><div class="line"><a class="code hl_function" href="classAres_1_1EventQueue.html#a28ec606e484362d984bcbe464c0b1522">Ares::EventQueue::SetEventCallback</a>(<a class="code hl_define" href="Core_8h.html#a71419b9aa8dfb57c5e92c579e305db7c">AR_BIND_EVENT_FN</a>(OnEvent));</div>
<div class="ttc" id="aCore_8h_html_a71419b9aa8dfb57c5e92c579e305db7c"><div class="ttname"><a href="Core_8h.html#a71419b9aa8dfb57c5e92c579e305db7c">AR_BIND_EVENT_FN</a></div><div class="ttdeci">#define AR_BIND_EVENT_FN(fn)</div><div class="ttdoc">Binds an event handler function tot he current object.</div><div class="ttdef"><b>Definition</b> Core.h:173</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md12"></a>
Dispatching Events</h2>
<p>To dispatch an event, use the <a class="el" href="classAres_1_1EventQueue.html#a8097731b98706b65e5b571786254ba63">Dispatch</a> method with your event type. <br  />
 <b>Example</b>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Ares_8h.html">Ares.h</a>&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceAres.html">Ares</a>;</div>
<div class="line"> </div>
<div class="line">WindowResizeEvent resizeEvent(800, 600);</div>
<div class="line">EventQueue::Dispatch&lt;WindowResizeEvent&gt;(resizeEvent);</div>
<div class="ttc" id="aAres_8h_html"><div class="ttname"><a href="Ares_8h.html">Ares.h</a></div><div class="ttdoc">Main header file for the Ares engine.</div></div>
<div class="ttc" id="anamespaceAres_html"><div class="ttname"><a href="namespaceAres.html">Ares</a></div><div class="ttdoc">The main namespace for the Ares engine.</div><div class="ttdef"><b>Definition</b> Application.h:15</div></div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md13"></a>
Adding Listeners</h2>
<p>Register listeners for specific event types with the <a class="el" href="classAres_1_1EventQueue.html#a6c460022059ed7cc455b3ac39be379bf">AddListener</a> method. The callback function will be executed whenever the event type is processed. </p><dl class="section note"><dt>Note</dt><dd>The Event class has an operator that allows it to be used directly with <b>std::ostream</b>!<br  />
<a class="el" href="namespaceAres.html#event_ostream_operator">Documentation</a></dd></dl>
<p><b>Example</b>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Ares_8h.html">Ares.h</a>&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceAres.html">Ares</a>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="namespaceAres.html#aaa164bb5112d3306c014751ccb35062c">EventListener</a> listener = EventQueue::AddListener&lt;WindowResizeEvent&gt;([](WindowResizeEvent&amp; event) {</div>
<div class="line">    std::cout &lt;&lt; <span class="keyword">event</span> &lt;&lt; std::endl; <span class="comment">// This will print: &quot;WindowResizeEvent: width, height&quot;</span></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;                     <span class="comment">// Return true if the event was successfully handled.</span></div>
<div class="line">});</div>
<div class="ttc" id="anamespaceAres_html_aaa164bb5112d3306c014751ccb35062c"><div class="ttname"><a href="namespaceAres.html#aaa164bb5112d3306c014751ccb35062c">Ares::EventListener</a></div><div class="ttdeci">uint32_t EventListener</div><div class="ttdoc">Listener ID stored as a 32 bit unsigned integer.</div><div class="ttdef"><b>Definition</b> EventQueue.h:20</div></div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md14"></a>
Removing Listeners</h2>
<p>When a listener is no longer needed, remove it using the <a class="el" href="classAres_1_1EventQueue.html#a537dc53772a67c68af65ea5f4392ce5b">RemoveListener</a> method. <br  />
 <b>Example</b>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Ares_8h.html">Ares.h</a>&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceAres.html">Ares</a>;</div>
<div class="line"> </div>
<div class="line">EventQueue::RemoveListener(listener);</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md15"></a>
Relevant Documentation</h1>
<ul>
<li><a class="el" href="classAres_1_1EventQueue.html" title="Handles event queuing and dispatching in the application.">Ares::EventQueue</a></li>
<li><a class="el" href="namespaceAres.html#aaa164bb5112d3306c014751ccb35062c" title="Listener ID stored as a 32 bit unsigned integer.">Ares::EventListener</a></li>
<li><a class="el" href="classAres_1_1Event.html" title="Base class for all events in the engine.">Ares::Event</a></li>
</ul>
<div class="section_buttons"> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Previous   </th><th class="markdownTableHeadRight">Next    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="usage.html">Usage</a>   </td><td class="markdownTableBodyRight"><a class="el" href="asset_manager.html">Asset Manager</a>   </td></tr>
</table>
</div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
